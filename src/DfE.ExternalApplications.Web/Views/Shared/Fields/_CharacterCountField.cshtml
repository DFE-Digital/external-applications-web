@using Microsoft.AspNetCore.Html;
@model DfE.ExternalApplications.Web.Services.FieldViewModel
@{
    var maxLengthRule = Model.Field.Validations?.Where(v => v.Type == "maxLength").FirstOrDefault()?.Rule.ToString();
    int.TryParse(maxLengthRule, out var maxLengthValue);
    var labelClasses = Model.Field.Label.Value == String.Empty ? "govuk-visually-hidden" : "";
}
<govuk-character-count id="@Model.Id" name="Data[@Model.Field.FieldId]" max-length="@maxLengthValue">
    <govuk-character-count-label>@Model.Field.Label.Value</govuk-character-count-label>
    <govuk-character-count-hint>@Model.Field.Tooltip</govuk-character-count-hint>
    @if (Model.ErrorMessage != String.Empty)
    {
        <govuk-character-count-error-message>@Model.ErrorMessage
        </govuk-character-count-error-message>
    }
    <govuk-character-count-value>@Model.CurrentValue</govuk-character-count-value>
</govuk-character-count>